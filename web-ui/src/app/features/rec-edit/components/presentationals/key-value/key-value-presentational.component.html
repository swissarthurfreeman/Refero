

<ng-container *ngIf="colfig$ | async as Colfig">
    <div [formGroup]="$any(FormControl)">
        <mat-form-field [id]="Colfig.id">
            <mat-label>{{ Colfig.name }}</mat-label>
            @if (Colfig.colType !== 'FK') {
                @if (readOnly) {
                    <input matInput formControlName="value" readonly> <!-- attribute binding wasn't working -->
                }

                @if (!readOnly) {
                    <input matInput formControlName="value"> <!-- attribute binding wasn't working -->
                }
            }
            @if (Colfig.colType === 'FK') {
                <mat-select formControlName="value" [disabled]="readOnly"> <!-- test with REE DATA and STATUT -->
                    <ng-container *ngIf="foreignEntries$ | async as ForeignEntries">
                        @for (e of ForeignEntries; track $index) {
                            <mat-option [value]="e.fields[Colfig.pointedRefColId]">{{ e.fields[Colfig.pointedRefColLabelId] }}</mat-option>
                        }
                    </ng-container>
                </mat-select>
            }
            <ng-container *ngIf="ErrorMap[colId]">
                <mat-error>{{ErrorMap[colId]}}</mat-error>
            </ng-container>
        </mat-form-field>
    </div>
</ng-container>


<div class="add-columns-form" [formGroup]="RefConfigForm">
    <div (click)="uploadFile.click()">
        <button mat-raised-button color="primary">Choose File</button>
        <input #uploadFile (change)="upload($event)" type='file' style="display:none"/> 
    </div>
    <div class="d-flex">
        <div class="p-2">
            <mat-form-field subscriptSizing="dynamic">
                <mat-label>Ref. Name</mat-label>
                <input matInput formControlName="name">
            </mat-form-field>
        </div>
        <div class="p-2">
            <mat-form-field subscriptSizing="dynamic">
                <mat-label>Ref Description.</mat-label>
                <input matInput formControlName="description">
            </mat-form-field>
        </div>
    </div>
    <ng-container formArrayName="columns">
        <ng-container *ngFor="let ColForm of columns.controls; let i = index">
            <div class="d-flex border rounded m-2">
                <div class="p-2">
                    <mat-icon class="delete-btn" (click)="deleteColumn(i)">delete_forever</mat-icon>
                </div>
                <div class="p-2">
                    <!-- render column configuration fields -->
                    <app-col-config [FormControl]="$any(ColForm)"></app-col-config>
                </div>
            </div>
        </ng-container>
    </ng-container>
    <button mat-mini-fab (click)="AddCol()">
        <mat-icon class="add-course-btn">add</mat-icon>
    </button>
</div>
<button (click)="Debug()">Debug</button>

<!-- TODO : 
    - Add table rendering, re-use table component, 
    - revamp table to use @Input to receive it's data instead of DataService
    - Make DataService manage a set of referentials instead of just one
    - Make ViewService manage a set of views instead of just one
    - Make ViewService an aggregate property of DataService, e.g. DataService.Views.
-->

